{"version":3,"sources":["components/common/Home.js","lib/auth.js","components/common/Navbar.js","components/auth/Register.js","components/auth/Login.js","components/common/SecureRoute.js","components/common/FailedPage.js","components/users/UserForm.js","components/users/UserEdit.js","components/users/UserProfile.js","components/loveletters/LoveLetterCard.js","components/loveletters/LoveLetterIndex.js","lib/headers.js","components/loveletters/LoveLetterShow.js","components/loveletters/LoveLetterForm.js","components/loveletters/LoveLetterNew.js","components/loveletters/LoveLetterEdit.js","App.js","serviceWorker.js","index.js"],"names":["Home","state","data","searchFeeling","searchResult","loveletter","handleChange","e","setState","target","value","handleSubmit","preventDefault","localStorage","setItem","props","history","push","className","text","effect","effectChange","effectDelay","id","onSubmit","this","type","onChange","placeholder","to","React","Component","Auth","token","getItem","removeItem","getToken","parts","split","length","JSON","parse","atob","payload","getPayload","Math","round","Date","now","exp","sub","Navbar","navbarOpen","toggleNavBar","handleClick","innerHTML","handleLogout","logout","prevProps","location","pathname","href","onClick","isAuthenticated","withRouter","Register","username","email","password","password_confirmation","location_city","errors","name","handleMultiChange","selected","a","console","log","axios","post","response","Login","error","res","setToken","SecureRoute","component","rest","FailedPage","UserForm","handleDelete","passwordConfirmation","UserEdit","first_name","last_name","profile_image","about_me","match","params","penpalId","put","headers","Authorization","delete","PenpalId","get","UserProfile","user","currentPenpal","getUser","getData","src","alt","LoveLetterCard","title","love_letter","slice","join","LoveLetterIndex","loveLetters","feelings","searchTerm","getFeelings","filterFeelings","regexp","RegExp","filter","item","test","emotion","map","feeling","loveletters","letter","key","common","Cookies","LoveLetterShow","comment","loveletterId","submitResponse","rev","reponse","likesCount","like","isOwner","owner","image","maxLength","LoveLetterForm","LoveLetterNew","LoveLetterEdit","options","label","love_letterId","LoveletterId","App","exact","path","UserResponse","Boolean","window","hostname","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.108cebaa.chunk.js","sourcesContent":["import React from 'react'\nimport { Wave } from 'react-animated-text';\nimport { Link } from 'react-router-dom'\n\n\nclass Home extends React.Component {\n  state = {\n    data: null,\n    searchFeeling: '',\n    searchResult: null,\n    loveletter: ''\n  }\n\n  handleChange = e => {\n    this.setState({ searchFeeling: e.target.value })\n  }\n\n  handleSubmit = e => {\n    e.preventDefault()\n    localStorage.setItem('searchfeelings', this.state.searchFeeling)\n    this.props.history.push('/loveletters')\n  }\n\n\n  render() {\n    return (\n      <>\n        <section className=\"home-section\">\n          <div className=\"home-title\"><Wave text=\"Dear Love,\" effect=\"stretch\" effectChange={1.2} effectDelay={10.6} /></div>\n          <div className=\"hero-body\">\n            <div className=\"container columns\">\n              <form className=\"column is-half is-offset-one-quarter card\" id=\"home-page\" onSubmit={this.handleSubmit}>\n                <input className=\"control is-expanded is-fullwidth is-rounded\" id=\"search-bar\" type=\"text\" value={this.state.searchFeeling} onChange={this.handleChange} placeholder=\"how are you feeling?\"></input>\n                <button type=\"submit \" id=\"button is-small is-fullwidth\">journey</button>\n              </form>\n            </div>\n          </div>\n          <div className=\"express\"> <h1 className=\"hows-your-heart\"> how's your heart?</h1>\n            <Link className=\"button is-rounded \" to=\"/register\">express yourself</Link>\n          </div>\n        </section>\n        <br />\n        <section className=\"about-loveletters\">\n          <p className=\"about-letters\"> Dear Love Letters is a virtual pen pal app connecting people through feelings +  healing.  Open Letters for people to read anonymously then can connect with\n               someone if they want to keep in touch. A space to share emotions and tips on how to heal the body, mind, and soul </p>\n        </section>\n\n\n\n\n\n      </>\n    )\n  }\n}\n\nexport default Home","\nclass Auth {\n  static setToken(token) {\n    localStorage.setItem('token', token)\n  }\n\n  static getToken() {\n    return localStorage.getItem('token')\n  }\n\n  static logout() {\n    localStorage.removeItem('token')\n  }\n\n  static getPayload() {\n    const token = this.getToken() // try and get the token\n    if (!token) return false // if its not there, return false\n    const parts = token.split('.') // split it into an array\n    if (parts.length < 3) return false // if there are less than three parts the token will be invalid, return false\n    return JSON.parse(atob(parts[1]))\n  }\n\n  static isAuthenticated() {\n    const payload = this.getPayload()\n    if (!payload) return false\n    const now = Math.round(Date.now() / 1000)\n    return now < payload.exp\n  }\n\n  static getUser() {\n    const { sub } = this.getPayload()\n    // console.log('full payload', this.getPayload())\n    // console.log('just sub', sub)\n    return sub\n  }\n  \n}\n\nexport default Auth","import React from 'react'\nimport { Link, withRouter } from 'react-router-dom'\nimport Auth from '../../lib/auth'\n\n\nclass Navbar extends React.Component {\n  state = {\n    navbarOpen: false,\n    searchResult: null\n  }\n\n  toggleNavBar = () => {\n    this.setState({ navbarOpen: !this.state.navbarOpen })\n  }\n\n  handleClick = (e) => {\n    localStorage.setItem('loveletter', e.target.innerHTML)\n  }\n\n  handleLogout = () => {\n    Auth.logout()\n    this.props.history.push('/')\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.location.pathname !== prevProps.location.pathname) {\n      this.setState({ navbarOpen: false })\n    }\n  }\n\n  render() {\n    const { navbarOpen } = this.state\n    return (\n      <nav className=\"navbar is-light\">\n        <div className=\"container\">\n          <div className=\"navbar-brand\">\n            <a href=\"/#\" className=\"navbar-link has-text-grey is-arrowless\" onClick={this.toggleNavBar}>home</a>\n            <span></span>\n            <span></span>\n            <span></span>\n          </div>\n          <div className={`navbar-menu ${navbarOpen ? 'is-active' : ''}`}>\n            <div className=\"navbar-end\">\n              <div className=\"navbar-item has-dropdown is-hoverable\">\n                <a className=\"navbar-link has-text-grey is-arrowless\" onClick={this.toggleNavBar}>love letters</a>\n                {\n                  navbarOpen &&\n                  <div className=\"navbar-dropdown\">\n                    <Link className=\"navbar-item\" to=\"/loveletters/\" onClick={this.handleClick}>my own</Link>\n                    {Auth.isAuthenticated() && <Link className=\"navbar-item\" to=\"/loveletters/new\">new love</Link>}\n                  </div>\n                }\n              </div>\n              <div className=\"navbar-item has-dropdown is-hoverable\">\n                <a className=\"navbar-link has-text-grey is-arrowless\" onClick={this.toggleNavBar}>profile</a>\n                {\n                  navbarOpen &&\n                  <div className=\"navbar-dropdown\">\n                    {Auth.isAuthenticated() && <Link className=\"navbar-item \" to=\"/profile\">about me</Link>}\n                    {Auth.isAuthenticated() && <Link className=\"navbar-item\" to=\"/response\">reponses</Link>}\n                  </div>\n                }\n              </div>\n              {!Auth.isAuthenticated() && <Link className=\"navbar-item\" to=\"/login\">Login</Link>}\n              {Auth.isAuthenticated() && <a className=\"navbar-item\" onClick={this.handleLogout}>Logout</a>}\n            </div>\n          </div>\n        </div>\n      </nav >\n    )\n  }\n}\n\nexport default withRouter(Navbar)\n\n\n\n\n\n","import React from 'react'\nimport axios from 'axios'\nimport { Link } from 'react-router-dom'\n// import Select from 'react-select'\n// import ImageUpload from '../ImageUpload'\n\n\nclass Register extends React.Component {\n  state = {\n    data: {\n      username: '',\n      email: '',\n      password: '',\n      password_confirmation: '',\n      location_city: ''\n\n    },\n    errors: {}\n  }\n\n  handleChange = e => {\n    const data = { ...this.state.data, [e.target.name]: e.target.value }\n    const errors = { ...this.state.errors, [e.target.name]: '' }\n    this.setState({ data, errors })\n  }\n\n  handleMultiChange = (selected) => {\n    // const loveletters = selected ? selected.map(item => item.value) : []\n    const data = { ...this.state.data }\n    this.setState({ data })\n  }\n\n  handleSubmit = async e => {\n    e.preventDefault()\n    console.log('submitting', this.state.data)\n    try {\n      await axios.post('/api/register', this.state.data)\n      this.props.history.push('/login')\n    } catch (err) {\n      this.setState({ errors: err.response.data.errors })\n    }\n  }\n\n  render() {\n    return (\n      <section className=\"register-section\">\n        <div className=\"register-container\">\n          <div className=\"columns\">\n            <form onSubmit={this.handleSubmit} className=\"column is-half is-offset-one-quarter is-half-mobile has-text-centered\">\n              <h2 className=\"register-title\">register</h2>\n              <div className=\"field\">\n                <label className=\"label\">username</label>\n                <div className=\"control\">\n                  <input\n                    className='input is-rounded'\n                    placeholder=\"Username\"\n                    name=\"username\"\n                    onChange={this.handleChange}\n                  />\n                </div>\n\n              </div>\n              <div className=\"field\">\n                <label className=\"label\">email</label>\n                <div className=\"control\">\n                  <input\n                    className='input is-rounded'\n                    placeholder=\"email\"\n                    name=\"email\"\n                    onChange={this.handleChange}\n                  />\n                </div>\n\n                <div className=\"field\">\n                  <label className=\"label\">location</label>\n                  <div className=\"control\">\n                    <input\n                      className='input is-rounded'\n                      placeholder=\"location\"\n                      name=\"location_city\"\n                      onChange={this.handleChange}\n                    />\n                  </div>\n\n                </div>\n                <div className=\"field\">\n                  <label className=\"label\">password</label>\n                  <div className=\"control\">\n                    <input\n                      className='input is-rounded'\n                      name=\"password\"\n                      type=\"password\"\n                      placeholder=\"Password\"\n                      onChange={this.handleChange}\n                    />\n                  </div>\n\n\n                </div>\n                <div className=\"field\">\n                  <label className=\"label\">password confirmation</label>\n                  <div className=\"control\">\n                    <input\n                      className='input is-rounded'\n                      name=\"password_confirmation\"\n                      type=\"password\"\n                      placeholder=\"Password Confirmation\"\n                      onChange={this.handleChange}\n                    />\n                  </div>\n                </div>\n                <div className=\"field\">\n                  <div className=\"control\">\n                    <Link className=\"button is-rounded \" to=\"/register\">express yourself</Link>\n                  </div>\n                </div>\n              </div>\n            </form>\n          </div>\n        </div>\n      </section>\n    )\n  }\n}\n\nexport default Register","import React from 'react'\nimport axios from 'axios'\nimport Auth from '../../lib/auth'\n// import { Link } from 'react-router-dom'\n\nclass Login extends React.Component {\n  state = {\n    data: {\n      email: '',\n      password: ''\n    },\n    error: ''\n  }\n\n  handleChange = ({ target: { name, value } }) => {\n    const data = { ...this.state.data, [name]: value }\n    this.setState({ data, error: '' })\n  }\n\n  handleSubmit = async e => {\n    e.preventDefault()\n    try {\n      const res = await axios.post('/api/login', this.state.data)\n      Auth.setToken(res.data.token)\n      this.props.history.push('/profile')\n    } catch (err) {\n      this.setState({ error: 'Invalid Credentials' })\n    }\n  }\n\n  render() {\n    return (\n      <section className=\"login-section\">\n        <div className=\"login-container\">\n          <div className=\"columns\">\n            <form onSubmit={this.handleSubmit} className=\"column is-half is-offset-one-quarter card\">\n              <h2 className=\"login-title\">login</h2>\n              <div className=\"field\">\n                <label className=\"label\">email</label>\n                <div className=\"control\">\n                  <input\n                    className={`input is-rounded ${this.state.error} \n                    ? : 'is-danger' : '' `}\n                    name=\"email\"\n                    placeholder=\"email\"\n                    onChange={this.handleChange}\n                  />\n                </div>\n              </div>\n              <div className=\"field\">\n                <label className=\"label\">password</label>\n                <div className=\"control\">\n                  <input\n                    className={`input is-rounded ${this.state.error} ? : 'is-danger' : '' `}\n                    type=\"password\"\n                    name=\"password\"\n                    placeholder=\"Password\"\n                    onChange={this.handleChange}\n                  />\n                </div>\n                {this.state.error && <small className=\"help is-danger\">{this.state.error}</small>}\n              </div>\n              <button type=\"submit\" className=\"button is-rounded\"> login</button>\n            </form>\n          </div>\n        </div>\n      </section>\n    )\n  }\n}\n\nexport default Login","import React from 'react'\nimport { Route, Redirect } from 'react-router-dom'\nimport Auth from '../../lib/auth'\n\nconst SecureRoute = ({ component: Component, ...rest }) => {\n  if (Auth.isAuthenticated()) return <Route {...rest} component={Component}/>\n  Auth.logout()\n  return <Redirect to=\"/login\"/>\n}\n\nexport default SecureRoute","import React from 'react'\n\nconst FailedPage = () => (\n  <section className=\"hero is-fullheight-with-navbar is-primary\">\n    <div className=\"hero-body-failed\">\n      <div className=\"container\">\n        <p className=\"title is-1 has-text-centered\">Oops you followed the wrong instructions</p>\n      </div>\n    </div>\n  </section>\n)\n\nexport default FailedPage","import React from 'react'\n//import ImageUpload from '../ImageUpload'\n//import Select from 'react-select'\n\nconst UserForm = ({ data, handleChange, handleDelete, handleSubmit, errors }) => {\n\n  // const prePopulateArray = data.skills.map(skill => {\n  //   return { value: skill, label: skill }\n  // })\n\n  return (\n    <section className=\"user-section\">\n      <form onSubmit={handleSubmit} className=\"user-container\">\n        <div className=\"user-info\">\n          <h2 className=\"title\">edit profile</h2>\n          <div className=\"field\">\n            <label className=\"label\">username</label>\n            <div className=\"control\">\n              <input\n                className={`input is-rounded ${errors.name ? 'is-danger' : ''}`}\n                placeholder=\"Username\"\n                name=\"username\"\n                onChange={handleChange}\n                value={data.username}\n              />\n            </div>\n          </div>\n          <div className=\"field\">\n            <label className=\"label\">first name</label>\n            <div className=\"control\">\n              <input\n                className={`input is-rounded ${errors.password ? 'is-danger' : ''}`}\n                type=\"first_name\"\n                placeholder=\"first name\"\n                name=\"first_name\"\n                onChange={handleChange}\n              />\n            </div>\n          </div>\n          <div className=\"field\">\n            <label className=\"label\">last name</label>\n            <div className=\"control\">\n              <input\n                className={`input is-rounded ${errors.password ? 'is-danger' : ''}`}\n                type=\"last_name\"\n                placeholder=\"last name\"\n                name=\"last_name\"\n                onChange={handleChange}\n              />\n            </div>\n          </div>\n          <div className=\"field\">\n            <label className=\"label\">city</label>\n            <div className=\"control\">\n              <input\n                placeholder=\"City\"\n                name=\"location_city\"\n                value={data.location_city}\n                onChange={handleChange}\n              />\n            </div>\n          </div>\n          <div className=\"field\">\n            <label className=\"label\">about me</label>\n            <div className=\"control\">\n              <input\n                className={`input is-rounded ${errors.password ? 'is-danger' : ''}`}\n                type=\"about_me\"\n                placeholder=\"about me\"\n                name=\"about_me\"\n                onChange={handleChange}\n              />\n            </div>\n          </div>\n          <div className=\"field\">\n            <label className=\"label\">email</label>\n            <div className=\"control\">\n              <input\n                className={`input is-rounded ${errors.email ? 'is-danger' : ''}`}\n                placeholder=\"Email\"\n                name=\"email\"\n                onChange={handleChange}\n                value={data.email}\n              />\n            </div>\n          </div>\n          <div className=\"field\">\n            <label className=\"label\">password</label>\n            <div className=\"control\">\n              <input\n                className={`input is-rounded ${errors.password ? 'is-danger' : ''}`}\n                type=\"password\"\n                placeholder=\"Password\"\n                name=\"password\"\n                onChange={handleChange}\n              />\n            </div>\n          </div>\n          <div className=\"field\">\n            <label className=\"label\">password confirmation</label>\n            <div className=\"control\">\n              <input\n                className={`input is-rounded ${errors.passwordConfirmation ? 'is-danger' : ''}`}\n                type=\"password\"\n                placeholder=\"password confirmation\"\n                name=\"password_confirmation\"\n                onChange={handleChange}\n              />\n            </div>\n            {/* <div className=\"user-image\">\n          {\n            data.image ?\n              <ImageUpload\n                handleChange={handleChange}\n                fieldName=\"image\"\n                inputClassName=\"my-input-class\"\n              >\n                <button onClick={ImageUpload} className=\"button is-danger\">Image Upload</button>\n              </ImageUpload>\n              :\n              <ImageUpload\n                handleChange={handleChange}\n                fieldName=\"image\"\n                inputClassName=\"my-input-class\"\n              >\n                <button onClick={ImageUpload} className=\"button is-danger\">Image Upload</button>\n              </ImageUpload>\n          } */}\n          </div>\n        </div>\n\n        <button type=\"submit\" className=\"button  is-rounded is-primary\">save</button>\n        <br />\n        <button onClick={handleDelete} className=\"button is-rounded is-danger\"> delete profile </button>\n        {/* </div> */}\n        <hr />\n      </form>\n    </section>\n  )\n}\n\nexport default UserForm","import React from 'react'\nimport axios from 'axios'\nimport Auth from '../../lib/auth'\nimport UserForm from './UserForm'\n//import Select from 'react-select'\n//import ImageUpload from '../ImageUpload'\n\n\nclass UserEdit extends React.Component {\n  state = {\n    data: {\n      email: '',\n      username: '',\n      first_name: '',\n      last_name: '',\n      password: '',\n      password_confirmation: '',\n      location_city: '',\n      profile_image: '',\n      about_me: ''\n    },\n    errors: {}\n  }\n\n\n  async componentDidMount() {\n    const PenpalId = this.props.match.params.id\n    try {\n      const res = await axios.get(`/api/penpals/${PenpalId}`, {\n        headers: { Authorization: `Bearer ${Auth.getToken()}` }\n      })\n      this.setState({ data: res.data })\n    } catch (err) {\n      console.log('something is wrong', err)\n    }\n  }\n\n\n  handleChange = ({ target: { name, value, profile_image } }) => {\n    const data = { ...this.state.data, [name]: value, [profile_image]: value }\n    this.setState({ data })\n  }\n\n  handleSubmit = async (e) => {\n    e.preventDefault()\n    console.log(this.props.match.params.id)\n    const penpalId = this.props.match.params.id\n    try {\n      await axios.put(`/api/penpals/${penpalId}`, this.state.data, {\n        headers: { Authorization: `Bearer ${Auth.getToken()}` }\n      })\n      this.props.history.push('/profile')\n    } catch (err) {\n      this.setState(err.response.data.errors)\n    }\n\n  }\n\n  handleDelete = async () => {\n    const penpalId = this.props.match.params.id\n    try {\n      await axios.delete(`/api/penpals/${penpalId}`, {\n        headers: { Authorization: `Bearer ${Auth.getToken()}` }\n      })\n      this.props.history.push('/')\n    } catch (err) {\n      console.log(err.response)\n    }\n  }\n\n  render() {\n    if (!this.state.data.name) return null\n    return (\n      <UserForm\n        data={this.state.data}\n        handleChange={this.handleChange}\n        handleSubmit={this.handleSubmit}\n        handleDelete={this.handleDelete}\n        errors={this.state.errors}\n      />\n    )\n  }\n}\n\n\nexport default UserEdit","import React from 'react'\nimport axios from 'axios'\nimport Auth from '../../lib/auth'\nimport { Link } from 'react-router-dom'\n\nclass UserProfile extends React.Component {\n  state = {\n    data: null\n  }\n\n  async getData() {\n    const currentPenpal = Auth.getUser()\n    try {\n      const res = await axios.get(`/api/penpals/${currentPenpal}`, {\n        headers: { Authorization: `Bearer ${Auth.getToken()}` }\n      })\n      console.log(res.data)\n      this.setState({ data: res.data })\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  componentDidMount() {\n    this.getData()\n  }\n\n  handleChange = ({ target: { name, value } }) => {\n    const user = { ...this.state.user, [name]: value }\n    this.setState({ user })\n  }\n\n  handleDelete = async () => {\n    const penpalId = this.props.match.params.id\n    try {\n      await axios.delete(`/api/penpals/${penpalId}`, {\n        headers: { Authorization: `Bearer ${Auth.getToken()}` }\n      })\n      this.props.history.push('/penpal')\n    } catch (err) {\n      console.log(err.response)\n    }\n  }\n\n\n  render() {\n    if (!this.state.data) return null\n    const { data } = this.state\n    console.log(data)\n    return (\n      <section className=\"user-section\">\n        <br />\n        <div className=\"user-container\">\n          <div className=\"user-info fadeInLeft\">\n            <h2 className=\"username\">{data.username}</h2>\n            <br />\n            <figure className=\"image-container\">\n              <img className=\"image-profile\" src={data.profile_image} alt={data.username} />\n            </figure>\n            <h2 className=\"location-title\">location:</h2>\n            <h2 className=\"username\">{data.location_city}</h2>\n            <br />\n            <h2 className=\"username\">{data.first_name.last_name}</h2>\n\n          </div>\n          <div className=\"user-image\">\n            <br />\n            <br />\n            <h2> about me:</h2>\n            <p>{data.about_me}</p>\n            <br />\n            <Link to={`/penpals/${data.id}/edit`} className=\"button is-rounded is-small is-light\">\n              Edit Profile\n            </Link>\n            <br />\n          </div>\n        </div>\n      </section >\n    )\n  }\n}\n\nexport default UserProfile","import React from 'react'\nimport { Link } from 'react-router-dom'\n\n\nconst LoveLetterCard = ({ title, id, username, love_letter }) => (\n  <div className=\"column is-one-quarter-desktop is-one-third-tablet is-full-mobile\">\n\n    <div className=\"love-card\">\n      <div className=\"card-header\">\n        <h4 className=\"card-header-title\">{title}</h4>\n        <br />\n        <h4 className=\"card-header-title\">{username}</h4>\n        <br />\n        <p>\n          {love_letter.split(' ').slice(0, 9).join(' ')}...\n          </p>\n        <Link to={`/loveletters/${id}`}>read more</Link>\n\n        {/* <h3 className=\"card-location\">{published}</h3> */}\n      </div>\n      <br />\n    </div>\n  </div>\n)\n\nexport default LoveLetterCard","import React from 'react'\nimport axios from 'axios'\n//import { Link } from 'react-router-dom'\nimport LoveLetterCard from './LoveLetterCard'\n\nclass LoveLetterIndex extends React.Component {\n  state = {\n    loveLetters: [],\n    feelings: [],\n    searchTerm: ''\n  }\n\n  getFeelings = async () => {\n    try {\n      const { data } = await axios.get('/api/feelings/')\n      this.setState({ feelings: data })\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  componentDidMount() {\n    this.getFeelings()\n  }\n\n  handleChange = (e) => {\n    this.setState({ searchTerm: e.target.value })\n  }\n\n  filterFeelings = () => {\n    const regexp = new RegExp(this.state.searchTerm, 'i')\n    return this.state.feelings.filter(item => regexp.test(item.emotion))\n  }\n\n  // filterLetters = () => {\n  //   console.log(this.state.loveLetters)\n  //   const regexp = new RegExp(this.state.searchResult, 'i')\n  //   return this.state.loveLetters.filter(item => regexp.test(item.feelings.map(feeling => feeling.emotion)))\n  // }\n  render() {\n    if (!this.state.feelings) return null\n    // console.log('feelings', this.state.feelings)\n    return (\n      <section className=\"section\">\n        <div className=\"hero-body-index\">\n          <div className=\"columns is-mobile is-multiline\">\n            <input\n              onChange={this.handleChange}\n              placeholder='Search for feelings'\n            />\n            {\n              this.filterFeelings().map(feeling => {\n                console.log('emotion', feeling)\n                return feeling.loveletters.map(letter => {\n                  return <LoveLetterCard key={letter.id} {...letter} />\n                })\n              })\n            }\n          </div>\n        </div>\n      </section>\n    )\n  }\n}\nexport default LoveLetterIndex","import Cookies from 'js-cookie'\nconst csrftoken = Cookies.get('csrftoken')\n\nexport const headers = {\n  common: {\n    'X-CSRF-TOKEN': csrftoken\n  },\n  // <!-- later on you can include this (remember to import it): -->\n  // <!-- headers: { Authorization: `Bearer ${getToken()}` } -->\n}","import React from 'react'\nimport axios from 'axios'\nimport { Link } from 'react-router-dom'\nimport Auth from '../../lib/auth'\nimport { headers } from './../../lib/headers'\n\nclass LoveLetterShow extends React.Component {\n  state = {\n    loveletter: null,\n    text: {}\n  }\n\n  async getData() {\n    const loveletterId = this.props.match.params.id\n    try {\n      const res = await axios.get(`/api/loveletters/${loveletterId}`, {\n        headers: { Authorization: `Bearer ${Auth.getToken()}` }\n      })\n      // console.log(res.data, 'data')\n      this.setState({ loveletter: res.data })\n    } catch (err) {\n      console.log(err)\n    }\n  }\n\n  componentDidMount() {\n    this.getData()\n  }\n\n  handleChange = e => {\n    const comment = { ...this.state.comment, [e.target.name]: e.target.value }\n    this.setState({ text: comment })\n    // console.log(comment)\n  }\n\n\n  handleSubmit = async e => {\n    e.preventDefault()\n    e.target.innerHTML = '<h2>response submitted</h2>'\n\n    const loveletterId = this.state.loveletter.id\n    const comment = this.state.text\n    console.log(comment)\n    try {\n      await axios.post(\n        `/api/loveletters/${loveletterId}/comments/`,\n        comment,\n        headers)\n    } catch (err) {\n      console.log(err.data)\n    }\n  }\n\n  // countLikes = (res) => {\n  //   const likesCount = res.data.like.length\n  //   this.setState({ likesCount })\n  // }\n\n  submitResponse = (rev, res) => {\n    const response = rev.data.reponse.length\n    const likesCount = res.data.like.length\n    this.setState({ response, likesCount })\n  }\n\n\n  handleDelete = async () => {\n    const loveletterId = this.props.match.params.id\n    try {\n      await axios.delete(`/loveletters/${loveletterId}`, {\n        headers: { Authorization: `Bearer ${Auth.getToken()}` }\n      })\n      this.props.history.push('/loveletters')\n    } catch (err) {\n      this.props.history.push('/notfound')\n    }\n  }\n\n  // hasLikes = () => this.state.user.avgLike > 0\n\n  isOwner = () => Auth.getPayload().sub === this.state.loveletter.owner.id\n\n  render() {\n    console.log(this.state.text)\n    // const { username, image, title, love_letter, id, city } = this.state.loveletter\n    const { loveletter } = this.state\n    if (!this.state.loveletter) return null\n    return (\n      <section className=\"loveletter-section\">\n        <div className=\"container\">\n          <h2 className=\"title\">{loveletter.title}</h2>\n          {/* <hr /> */}\n          <p>{loveletter.location}</p>\n          <h2 className=\"username\">{loveletter.username}</h2> */}\n          <div className=\"columns\">\n            <div className=\"column is-half\">\n              <figure className=\"image is-square\">\n                <img src={loveletter.image} alt={loveletter.title} />\n              </figure>\n            </div>\n            <div className=\"column is-half\">\n              <h4 className=\"title is-4\">Dear Love, </h4>\n              <p>{loveletter.love_letter}</p>\n              <hr />\n              <h4 className=\"title is-4\">how i feel:</h4>\n              <p>{loveletter.feelings}</p>\n\n\n              <Link to={`/loveletters/${loveletter.id}/response`}>\n                <div className=\"allReponses\">\n                  <p> you've got mail!  </p>\n                </div>\n              </Link>\n            </div>\n          </div>\n          <div className=\"rating\">\n            <form onSubmit={this.handleSubmit} className=\"rating-form\">\n              <h2 className=\"title\">show me some love</h2>\n              <br />\n              <textarea className=\"textarea is-primary\" onChange={this.handleChange} placeholder=\"hey you\" name=\"text\" type=\"text\" maxLength=\"600\" />\n              <br />\n              <button className=\"button is-info\" type=\"submit\">submit</button>\n            </form>\n          </div>\n        </div >\n      </section >\n    )\n  }\n}\n\n\nexport default LoveLetterShow\n\n\n\n","import React from 'react'\n\nconst LoveLetterForm = ({ data, handleChange, handleSubmit }) => (\n  <div className=\"columns\">\n    <form onSubmit={handleSubmit} className=\"column is-half is-offset-one-quarter card\">\n      <div className=\"field\">\n        <label className=\"label\">title</label>\n        <div className=\"control\">\n          <input\n            className='input'\n            placeholder=\"title\"\n            name=\"title\"\n            onChange={handleChange}\n            value={data ? data.title : ''}\n          />\n        </div>\n      </div>\n      <div className=\"field\">\n        <label className=\"label\">image</label>\n        <div className=\"control\">\n          <input\n            className='input'\n            placeholder=\"Image\"\n            name=\"image\"\n            onChange={handleChange}\n            value={data ? data.image : ''}\n          />\n        </div>\n      </div>\n      <div className=\"field\">\n        <label className=\"label\">love letter</label>\n        <div className=\"control\">\n          <textarea\n            className=\"textarea\"\n            placeholder=\"how do you feel?\"\n            name=\"love_letter\"\n            onChange={handleChange}\n            value={data ? data.love_letter : ''}\n          />\n        </div>\n      </div>\n      <div className=\"field\">\n        <div className=\"control\">\n          <button type=\"submit\" className=\"button is-rounded is-warning is-fullwidth\">spread love</button>\n        </div>\n      </div>\n    </form>\n  </div>\n)\n\nexport default LoveLetterForm","import React from 'react'\nimport axios from 'axios'\nimport Auth from '../../lib/auth'\nimport LoveLetterForm from './LoveLetterForm'\n\nclass LoveLetterNew extends React.Component {\n  state = {\n    data: {\n      title: '',\n      image: '',\n      feeling: ''\n    },\n    errors: {}\n  }\n\n\n  handleChange = e => {\n    const data = { ...this.state.data, [e.target.name]: e.target.value }\n    const errors = { ...this.state.errors, [e.target.name]: '' }\n    this.setState({ data, errors })\n    console.log(data)\n  }\n\n  handleSubmit = async (e) => {\n    e.preventDefault()\n    try {\n      const { data } = await axios.post('/api/loveletters/', this.state.data, {\n        headers: { Authorization: `Bearer ${Auth.getToken()}` }\n      })\n      this.props.history.push(`/loveletters/${data.id}`)\n    } catch (err) {\n      console.log(err.response.data)\n    }\n  }\n\n  render() {\n\n    return (\n      <section className=\"section\">\n        <div className=\"container\">\n          <LoveLetterForm\n            data={this.state.data}\n            handleChange={this.handleChange}\n            handleSubmit={this.handleSubmit}\n            handleMultiChange={this.handleChange}\n\n          // errors={this.state.errors}\n          />\n        </div>\n      </section>\n    )\n  }\n}\n\nexport default LoveLetterNew\n","import React from 'react'\nimport axios from 'axios'\nimport Auth from '../../lib/auth'\nimport LoveLetterForm from '../loveletters/LoveLetterForm'\n\n\n\nclass LoveLetterEdit extends React.Component {\n  state = {\n    data: {\n      title: '',\n      image: '',\n      love_letter: '',\n      feelings: '',\n    },\n    errors: {}\n  }\n\n\n  async componentDidMount() {\n    const LoveletterId = this.props.match.params.id\n    // console.log(this.props.match.params.id)\n    try {\n      const res = await axios.get(`/api/loveletters/${LoveletterId}`, {\n        headers: { Authorization: `Bearer ${Auth.getToken()}` }\n      })\n      this.setState({ data: res.data })\n    } catch (err) {\n      console.log('something is wrong', err)\n    }\n  }\n\n  options = [\n    { value: 'Happy', label: 'Happy' },\n    { value: 'Sad', label: 'Sad' },\n    { value: 'Anxious', label: 'Anxious' },\n    { value: 'Lonley', label: 'Lonley' },\n    { value: 'Excited', label: 'Excited' },\n    { value: 'Joyful', label: 'Joyful' },\n    { value: 'Loved', label: 'Loved' },\n    { value: 'Depressed', label: 'Depressed' },\n    { value: 'Grumpy', label: 'Grumpy' },\n  ]\n\n  handleMultiChange = (selected) => {\n    const feelings = selected ? selected.map(item => item.value) : []\n    const data = { ...this.state.data, feelings }\n    this.setState({ data })\n  }\n\n  handleChange = ({ target: { name, value, image, title } }) => {\n    const data = { ...this.state.data, [name]: value, [image]: value, [title]: value }\n    this.setState({ data })\n  }\n\n  handleSubmit = async (e) => {\n    e.preventDefault()\n    console.log(this.props.match.params.id)\n    const love_letterId = this.props.match.params.id\n    try {\n      await axios.put(`/api/loveletters/${love_letterId}`, this.state.data, {\n        headers: { Authorization: `Bearer ${Auth.getToken()}` }\n      })\n      this.props.history.push('/profile')\n    } catch (err) {\n      this.setState(err.response.data.errors)\n    }\n\n  }\n\n  handleDelete = async () => {\n    const loveletterId = this.props.match.params.id\n    try {\n      await axios.delete(`/api/loveletters/${loveletterId}`, {\n        headers: { Authorization: `Bearer ${Auth.getToken()}` }\n      })\n      this.props.history.push('/')\n    } catch (err) {\n      console.log(err.response)\n    }\n  }\n\n  render() {\n    if (!this.state.data.name) return null\n    return (\n      <LoveLetterForm\n        data={this.state.data}\n        handleChange={this.handleChange}\n        handleSubmit={this.handleSubmit}\n        handleDelete={this.handleDelete}\n        handleMultiChange={this.handleMultiChange}\n        options={this.options}\n        errors={this.state.errors}\n      />\n    )\n  }\n}\n\n\nexport default LoveLetterEdit","import React from 'react';\nimport { Route, BrowserRouter, Switch } from 'react-router-dom'\nimport 'bulma'\nimport './styles/main.scss'\n\nimport Home from \"../src/components/common/Home\"\nimport Navbar from './components/common/Navbar'\nimport Register from \"./components/auth/Register\"\nimport Login from \"./components/auth/Login\"\nimport SecureRoute from \"../src/components/common/SecureRoute\"\nimport FailedPage from \"../src/components/common/FailedPage\"\n\n\nimport UserEdit from \"../src/components/users/UserEdit\"\nimport UserProfile from \"../src/components/users/UserProfile\"\nimport UserResponse from \"../src/components/users/UserReponse\"\n\n\n\nimport LoveLetterIndex from \"../src/components/loveletters/LoveLetterIndex\"\nimport LoveLetterShow from \"../src/components/loveletters/LoveLetterShow\"\nimport LoveLetterNew from \"../src/components/loveletters/LoveLetterNew\"\nimport LoveLetterEdit from \"../src/components/loveletters/LoveLetterEdit\"\n\n\n\n\nfunction App() {\n\n  return (\n    <BrowserRouter>\n      <Navbar />\n      <Switch>\n        <Route exact path=\"/\" component={Home} />\n        <SecureRoute path=\"/loveletters/:id\" component={LoveLetterEdit} />\n        <SecureRoute path=\"/penpals/:id/edit\" component={UserEdit} />\n        <SecureRoute path=\"/penpals/:id/review\" component={UserResponse} />\n        <SecureRoute path=\"/loveletters/:id\" component={LoveLetterShow} />\n        <SecureRoute path=\"/loveletters/new\" component={LoveLetterNew} />\n        <Route path=\"/loveletters\" component={LoveLetterIndex} />\n        <Route path=\"/register\" component={Register} />\n        <Route path=\"/login\" component={Login} />\n        <SecureRoute path=\"/profile\" component={UserProfile} />\n        <Route path=\"/*\" component={FailedPage} />\n      </Switch>\n    </BrowserRouter>\n  )\n\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}