(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{38:function(e,a){},40:function(e,a,t){e.exports=t(71)},45:function(e,a,t){},47:function(e,a,t){},71:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(33),s=t.n(l),c=(t(45),t(10)),o=t(18),i=(t(46),t(47),t(4)),m=t(5),u=t(8),d=t(7),h=t(9),p=t(34),v=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(u.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={data:null,searchFeeling:"",searchResult:null,loveletter:""},t.handleChange=function(e){t.setState({searchFeeling:e.target.value})},t.handleSubmit=function(e){e.preventDefault(),localStorage.setItem("searchfeelings",t.state.searchFeeling),t.props.history.push("/loveletters")},t}return Object(h.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"home-section"},r.a.createElement("div",{className:"home-title"},r.a.createElement(p.Wave,{text:"Dear Love,",effect:"stretch",effectChange:1.2,effectDelay:10.6})),r.a.createElement("div",{className:"hero-body"},r.a.createElement("div",{className:"container columns"},r.a.createElement("form",{className:"column is-half is-offset-one-quarter card",id:"home-page",onSubmit:this.handleSubmit},r.a.createElement("input",{className:"control is-expanded is-fullwidth is-rounded",id:"search-bar",type:"text",value:this.state.searchFeeling,onChange:this.handleChange,placeholder:"how are you feeling?"}),r.a.createElement("button",{type:"submit ",id:"button is-small is-fullwidth"},"journey")))),r.a.createElement("div",{className:"express"}," ",r.a.createElement("h1",{className:"hows-your-heart"}," how's your heart?"),r.a.createElement(c.b,{className:"button is-rounded ",to:"/register"},"express yourself"))),r.a.createElement("br",null),r.a.createElement("section",{className:"about-loveletters"},r.a.createElement("p",{className:"about-letters"}," Dear Love Letters is a virtual pen pal app connecting people through feelings +  healing.  Open Letters for people to read anonymously then can connect with someone if they want to keep in touch. A space to share emotions and tips on how to heal the body, mind, and soul ")))}}]),a}(r.a.Component),b=function(){function e(){Object(i.a)(this,e)}return Object(m.a)(e,null,[{key:"setToken",value:function(e){localStorage.setItem("token",e)}},{key:"getToken",value:function(){return localStorage.getItem("token")}},{key:"logout",value:function(){localStorage.removeItem("token")}},{key:"getPayload",value:function(){var e=this.getToken();if(!e)return!1;var a=e.split(".");return!(a.length<3)&&JSON.parse(atob(a[1]))}},{key:"isAuthenticated",value:function(){var e=this.getPayload();return!!e&&Math.round(Date.now()/1e3)<e.exp}},{key:"getUser",value:function(){return this.getPayload().sub}}]),e}(),f=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(u.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={navbarOpen:!1,searchResult:null},t.toggleNavBar=function(){t.setState({navbarOpen:!t.state.navbarOpen})},t.handleClick=function(e){localStorage.setItem("loveletter",e.target.innerHTML)},t.handleLogout=function(){b.logout(),t.props.history.push("/")},t}return Object(h.a)(a,e),Object(m.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.location.pathname!==e.location.pathname&&this.setState({navbarOpen:!1})}},{key:"render",value:function(){var e=this.state.navbarOpen;return r.a.createElement("nav",{className:"navbar is-light"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"navbar-brand"},r.a.createElement("a",{href:"/#",className:"navbar-link has-text-grey is-arrowless",onClick:this.toggleNavBar},"home"),r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null)),r.a.createElement("div",{className:"navbar-menu ".concat(e?"is-active":"")},r.a.createElement("div",{className:"navbar-end"},r.a.createElement("div",{className:"navbar-item has-dropdown is-hoverable"},r.a.createElement("a",{className:"navbar-link has-text-grey is-arrowless",onClick:this.toggleNavBar},"love letters"),e&&r.a.createElement("div",{className:"navbar-dropdown"},r.a.createElement(c.b,{className:"navbar-item",to:"/loveletters/",onClick:this.handleClick},"my own"),b.isAuthenticated()&&r.a.createElement(c.b,{className:"navbar-item",to:"/loveletters/new"},"new love"))),r.a.createElement("div",{className:"navbar-item has-dropdown is-hoverable"},r.a.createElement("a",{className:"navbar-link has-text-grey is-arrowless",onClick:this.toggleNavBar},"profile"),e&&r.a.createElement("div",{className:"navbar-dropdown"},b.isAuthenticated()&&r.a.createElement(c.b,{className:"navbar-item ",to:"/profile"},"about me"),b.isAuthenticated()&&r.a.createElement(c.b,{className:"navbar-item",to:"/response"},"reponses"))),!b.isAuthenticated()&&r.a.createElement(c.b,{className:"navbar-item",to:"/login"},"Login"),b.isAuthenticated()&&r.a.createElement("a",{className:"navbar-item",onClick:this.handleLogout},"Logout")))))}}]),a}(r.a.Component),g=Object(o.g)(f),E=t(1),N=t.n(E),y=t(2),w=t(6),O=t(12),j=t(3),k=t.n(j),C=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(u.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={data:{username:"",email:"",password:"",password_confirmation:"",location_city:""},errors:{}},t.handleChange=function(e){var a=Object(O.a)({},t.state.data,Object(w.a)({},e.target.name,e.target.value)),n=Object(O.a)({},t.state.errors,Object(w.a)({},e.target.name,""));t.setState({data:a,errors:n})},t.handleMultiChange=function(e){var a=Object(O.a)({},t.state.data);t.setState({data:a})},t.handleSubmit=function(){var e=Object(y.a)(N.a.mark((function e(a){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),console.log("submitting",t.state.data),e.prev=2,e.next=5,k.a.post("/api/register",t.state.data);case 5:t.props.history.push("/login"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),t.setState({errors:e.t0.response.data.errors});case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(a){return e.apply(this,arguments)}}(),t}return Object(h.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("section",{className:"register-section"},r.a.createElement("div",{className:"register-container"},r.a.createElement("div",{className:"columns"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"column is-half is-offset-one-quarter is-half-mobile has-text-centered"},r.a.createElement("h2",{className:"register-title"},"register"),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"username"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input is-rounded",placeholder:"Username",name:"username",onChange:this.handleChange}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"email"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input is-rounded",placeholder:"email",name:"email",onChange:this.handleChange})),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"location"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input is-rounded",placeholder:"location",name:"location_city",onChange:this.handleChange}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"password"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input is-rounded",name:"password",type:"password",placeholder:"Password",onChange:this.handleChange}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"password confirmation"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input is-rounded",name:"password_confirmation",type:"password",placeholder:"Password Confirmation",onChange:this.handleChange}))),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control"},r.a.createElement(c.b,{className:"button is-rounded ",to:"/register"},"express yourself"))))))))}}]),a}(r.a.Component),x=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(u.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={data:{email:"",password:""},error:""},t.handleChange=function(e){var a=e.target,n=a.name,r=a.value,l=Object(O.a)({},t.state.data,Object(w.a)({},n,r));t.setState({data:l,error:""})},t.handleSubmit=function(){var e=Object(y.a)(N.a.mark((function e(a){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,k.a.post("/api/login",t.state.data);case 4:n=e.sent,b.setToken(n.data.token),t.props.history.push("/profile"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t.setState({error:"Invalid Credentials"});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(a){return e.apply(this,arguments)}}(),t}return Object(h.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("section",{className:"login-section"},r.a.createElement("div",{className:"login-container"},r.a.createElement("div",{className:"columns"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"column is-half is-offset-one-quarter card"},r.a.createElement("h2",{className:"login-title"},"login"),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"email"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input is-rounded ".concat(this.state.error," \n                    ? : 'is-danger' : '' "),name:"email",placeholder:"email",onChange:this.handleChange}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"password"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input is-rounded ".concat(this.state.error," ? : 'is-danger' : '' "),type:"password",name:"password",placeholder:"Password",onChange:this.handleChange})),this.state.error&&r.a.createElement("small",{className:"help is-danger"},this.state.error)),r.a.createElement("button",{type:"submit",className:"button is-rounded"}," login")))))}}]),a}(r.a.Component),S=t(37),D=function(e){var a=e.component,t=Object(S.a)(e,["component"]);return b.isAuthenticated()?r.a.createElement(o.b,Object.assign({},t,{component:a})):(b.logout(),r.a.createElement(o.a,{to:"/login"}))},A=function(){return r.a.createElement("section",{className:"hero is-fullheight-with-navbar is-primary"},r.a.createElement("div",{className:"hero-body-failed"},r.a.createElement("div",{className:"container"},r.a.createElement("p",{className:"title is-1 has-text-centered"},"Oops you followed the wrong instructions"))))},_=function(e){var a=e.data,t=e.handleChange,n=e.handleDelete,l=e.handleSubmit,s=e.errors;return r.a.createElement("section",{className:"user-section"},r.a.createElement("form",{onSubmit:l,className:"user-container"},r.a.createElement("div",{className:"user-info"},r.a.createElement("h2",{className:"title"},"edit profile"),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"username"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input is-rounded ".concat(s.name?"is-danger":""),placeholder:"Username",name:"username",onChange:t,value:a.username}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"first name"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input is-rounded ".concat(s.password?"is-danger":""),type:"first_name",placeholder:"first name",name:"first_name",onChange:t}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"last name"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input is-rounded ".concat(s.password?"is-danger":""),type:"last_name",placeholder:"last name",name:"last_name",onChange:t}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"city"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{placeholder:"City",name:"location_city",value:a.location_city,onChange:t}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"about me"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input is-rounded ".concat(s.password?"is-danger":""),type:"about_me",placeholder:"about me",name:"about_me",onChange:t}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"email"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input is-rounded ".concat(s.email?"is-danger":""),placeholder:"Email",name:"email",onChange:t,value:a.email}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"password"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input is-rounded ".concat(s.password?"is-danger":""),type:"password",placeholder:"Password",name:"password",onChange:t}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"password confirmation"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input is-rounded ".concat(s.passwordConfirmation?"is-danger":""),type:"password",placeholder:"password confirmation",name:"password_confirmation",onChange:t})))),r.a.createElement("button",{type:"submit",className:"button  is-rounded is-primary"},"save"),r.a.createElement("br",null),r.a.createElement("button",{onClick:n,className:"button is-rounded is-danger"}," delete profile "),r.a.createElement("hr",null)))},T=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(u.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={data:{email:"",username:"",first_name:"",last_name:"",password:"",password_confirmation:"",location_city:"",profile_image:"",about_me:""},errors:{}},t.handleChange=function(e){var a,n=e.target,r=n.name,l=n.value,s=n.profile_image,c=Object(O.a)({},t.state.data,(a={},Object(w.a)(a,r,l),Object(w.a)(a,s,l),a));t.setState({data:c})},t.handleSubmit=function(){var e=Object(y.a)(N.a.mark((function e(a){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),console.log(t.props.match.params.id),n=t.props.match.params.id,e.prev=3,e.next=6,k.a.put("/api/penpals/".concat(n),t.state.data,{headers:{Authorization:"Bearer ".concat(b.getToken())}});case 6:t.props.history.push("/profile"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),t.setState(e.t0.response.data.errors);case 12:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(a){return e.apply(this,arguments)}}(),t.handleDelete=Object(y.a)(N.a.mark((function e(){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.props.match.params.id,e.prev=1,e.next=4,k.a.delete("/api/penpals/".concat(a),{headers:{Authorization:"Bearer ".concat(b.getToken())}});case 4:t.props.history.push("/"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[1,7]])}))),t}return Object(h.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(y.a)(N.a.mark((function e(){var a,t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.props.match.params.id,e.prev=1,e.next=4,k.a.get("/api/penpals/".concat(a),{headers:{Authorization:"Bearer ".concat(b.getToken())}});case 4:t=e.sent,this.setState({data:t.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("something is wrong",e.t0);case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.data.name?r.a.createElement(_,{data:this.state.data,handleChange:this.handleChange,handleSubmit:this.handleSubmit,handleDelete:this.handleDelete,errors:this.state.errors}):null}}]),a}(r.a.Component),L=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(u.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={data:null},t.handleChange=function(e){var a=e.target,n=a.name,r=a.value,l=Object(O.a)({},t.state.user,Object(w.a)({},n,r));t.setState({user:l})},t.handleDelete=Object(y.a)(N.a.mark((function e(){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.props.match.params.id,e.prev=1,e.next=4,k.a.delete("/api/penpals/".concat(a),{headers:{Authorization:"Bearer ".concat(b.getToken())}});case 4:t.props.history.push("/penpal"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[1,7]])}))),t}return Object(h.a)(a,e),Object(m.a)(a,[{key:"getData",value:function(){var e=Object(y.a)(N.a.mark((function e(){var a,t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=b.getUser(),e.prev=1,e.next=4,k.a.get("/api/penpals/".concat(a),{headers:{Authorization:"Bearer ".concat(b.getToken())}});case 4:t=e.sent,console.log(t.data),this.setState({data:t.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){if(!this.state.data)return null;var e=this.state.data;return console.log(e),r.a.createElement("section",{className:"user-section"},r.a.createElement("br",null),r.a.createElement("div",{className:"user-container"},r.a.createElement("div",{className:"user-info fadeInLeft"},r.a.createElement("h2",{className:"username"},e.username),r.a.createElement("br",null),r.a.createElement("figure",{className:"image-container"},r.a.createElement("img",{className:"image-profile",src:e.profile_image,alt:e.username})),r.a.createElement("h2",{className:"location-title"},"location:"),r.a.createElement("h2",{className:"username"},e.location_city),r.a.createElement("br",null),r.a.createElement("h2",{className:"username"},e.first_name.last_name)),r.a.createElement("div",{className:"user-image"},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h2",null," about me:"),r.a.createElement("p",null,e.about_me),r.a.createElement("br",null),r.a.createElement(c.b,{to:"/penpals/".concat(e.id,"/edit"),className:"button is-rounded is-small is-light"},"Edit Profile"),r.a.createElement("br",null))))}}]),a}(r.a.Component),B=t(38),M=t.n(B),z=function(e){var a=e.title,t=e.id,n=e.username,l=e.love_letter;return r.a.createElement("div",{className:"column is-one-quarter-desktop is-one-third-tablet is-full-mobile"},r.a.createElement("div",{className:"love-card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h4",{className:"card-header-title"},a),r.a.createElement("br",null),r.a.createElement("h4",{className:"card-header-title"},n),r.a.createElement("br",null),r.a.createElement("p",null,l.split(" ").slice(0,9).join(" "),"..."),r.a.createElement(c.b,{to:"/loveletters/".concat(t)},"read more")),r.a.createElement("br",null)))},F=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(u.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={loveLetters:[],feelings:[],searchTerm:""},t.getFeelings=Object(y.a)(N.a.mark((function e(){var a,n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.get("/api/feelings/");case 3:a=e.sent,n=a.data,t.setState({feelings:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),t.handleChange=function(e){t.setState({searchTerm:e.target.value})},t.filterFeelings=function(){var e=new RegExp(t.state.searchTerm,"i");return t.state.feelings.filter((function(a){return e.test(a.emotion)}))},t}return Object(h.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){this.getFeelings()}},{key:"render",value:function(){return this.state.feelings?r.a.createElement("section",{className:"section"},r.a.createElement("div",{className:"hero-body-index"},r.a.createElement("div",{className:"columns is-mobile is-multiline"},r.a.createElement("input",{onChange:this.handleChange,placeholder:"Search for feelings"}),this.filterFeelings().map((function(e){return console.log("emotion",e),e.loveletters.map((function(e){return r.a.createElement(z,Object.assign({key:e.id},e))}))}))))):null}}]),a}(r.a.Component),I=t(39),P={common:{"X-CSRF-TOKEN":t.n(I).a.get("csrftoken")}},q=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(u.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={loveletter:null,text:{}},t.handleChange=function(e){var a=Object(O.a)({},t.state.comment,Object(w.a)({},e.target.name,e.target.value));t.setState({text:a})},t.handleSubmit=function(){var e=Object(y.a)(N.a.mark((function e(a){var n,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),a.target.innerHTML="<h2>response submitted</h2>",n=t.state.loveletter.id,r=t.state.text,console.log(r),e.prev=5,e.next=8,k.a.post("/api/loveletters/".concat(n,"/comments/"),r,P);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(5),console.log(e.t0.data);case 13:case"end":return e.stop()}}),e,null,[[5,10]])})));return function(a){return e.apply(this,arguments)}}(),t.submitResponse=function(e,a){var n=e.data.reponse.length,r=a.data.like.length;t.setState({response:n,likesCount:r})},t.handleDelete=Object(y.a)(N.a.mark((function e(){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.props.match.params.id,e.prev=1,e.next=4,k.a.delete("/loveletters/".concat(a),{headers:{Authorization:"Bearer ".concat(b.getToken())}});case 4:t.props.history.push("/loveletters"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),t.props.history.push("/notfound");case 10:case"end":return e.stop()}}),e,null,[[1,7]])}))),t.isOwner=function(){return b.getPayload().sub===t.state.loveletter.owner.id},t}return Object(h.a)(a,e),Object(m.a)(a,[{key:"getData",value:function(){var e=Object(y.a)(N.a.mark((function e(){var a,t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.props.match.params.id,e.prev=1,e.next=4,k.a.get("/api/loveletters/".concat(a),{headers:{Authorization:"Bearer ".concat(b.getToken())}});case 4:t=e.sent,this.setState({loveletter:t.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){console.log(this.state.text);var e=this.state.loveletter;return this.state.loveletter?r.a.createElement("section",{className:"loveletter-section"},r.a.createElement("div",{className:"container"},r.a.createElement("h2",{className:"title"},e.title),r.a.createElement("p",null,e.location),r.a.createElement("h2",{className:"username"},e.username)," */}",r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column is-half"},r.a.createElement("figure",{className:"image is-square"},r.a.createElement("img",{src:e.image,alt:e.title}))),r.a.createElement("div",{className:"column is-half"},r.a.createElement("h4",{className:"title is-4"},"Dear Love, "),r.a.createElement("p",null,e.love_letter),r.a.createElement("hr",null),r.a.createElement("h4",{className:"title is-4"},"how i feel:"),r.a.createElement("p",null,e.feelings),r.a.createElement(c.b,{to:"/loveletters/".concat(e.id,"/response")},r.a.createElement("div",{className:"allReponses"},r.a.createElement("p",null," you've got mail!  "))))),r.a.createElement("div",{className:"rating"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"rating-form"},r.a.createElement("h2",{className:"title"},"show me some love"),r.a.createElement("br",null),r.a.createElement("textarea",{className:"textarea is-primary",onChange:this.handleChange,placeholder:"hey you",name:"text",type:"text",maxLength:"600"}),r.a.createElement("br",null),r.a.createElement("button",{className:"button is-info",type:"submit"},"submit"))))):null}}]),a}(r.a.Component),R=function(e){var a=e.data,t=e.handleChange,n=e.handleSubmit;return r.a.createElement("div",{className:"columns"},r.a.createElement("form",{onSubmit:n,className:"column is-half is-offset-one-quarter card"},r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"title"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",placeholder:"title",name:"title",onChange:t,value:a?a.title:""}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"image"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",placeholder:"Image",name:"image",onChange:t,value:a?a.image:""}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"love letter"),r.a.createElement("div",{className:"control"},r.a.createElement("textarea",{className:"textarea",placeholder:"how do you feel?",name:"love_letter",onChange:t,value:a?a.love_letter:""}))),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control"},r.a.createElement("button",{type:"submit",className:"button is-rounded is-warning is-fullwidth"},"spread love")))))},J=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(u.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={data:{title:"",image:"",feeling:""},errors:{}},t.handleChange=function(e){var a=Object(O.a)({},t.state.data,Object(w.a)({},e.target.name,e.target.value)),n=Object(O.a)({},t.state.errors,Object(w.a)({},e.target.name,""));t.setState({data:a,errors:n}),console.log(a)},t.handleSubmit=function(){var e=Object(y.a)(N.a.mark((function e(a){var n,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,k.a.post("/api/loveletters/",t.state.data,{headers:{Authorization:"Bearer ".concat(b.getToken())}});case 4:n=e.sent,r=n.data,t.props.history.push("/loveletters/".concat(r.id)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.response.data);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(a){return e.apply(this,arguments)}}(),t}return Object(h.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("section",{className:"section"},r.a.createElement("div",{className:"container"},r.a.createElement(R,{data:this.state.data,handleChange:this.handleChange,handleSubmit:this.handleSubmit,handleMultiChange:this.handleChange})))}}]),a}(r.a.Component),U=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(u.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(r)))).state={data:{title:"",image:"",love_letter:"",feelings:""},errors:{}},t.options=[{value:"Happy",label:"Happy"},{value:"Sad",label:"Sad"},{value:"Anxious",label:"Anxious"},{value:"Lonley",label:"Lonley"},{value:"Excited",label:"Excited"},{value:"Joyful",label:"Joyful"},{value:"Loved",label:"Loved"},{value:"Depressed",label:"Depressed"},{value:"Grumpy",label:"Grumpy"}],t.handleMultiChange=function(e){var a=e?e.map((function(e){return e.value})):[],n=Object(O.a)({},t.state.data,{feelings:a});t.setState({data:n})},t.handleChange=function(e){var a,n=e.target,r=n.name,l=n.value,s=n.image,c=n.title,o=Object(O.a)({},t.state.data,(a={},Object(w.a)(a,r,l),Object(w.a)(a,s,l),Object(w.a)(a,c,l),a));t.setState({data:o})},t.handleSubmit=function(){var e=Object(y.a)(N.a.mark((function e(a){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),console.log(t.props.match.params.id),n=t.props.match.params.id,e.prev=3,e.next=6,k.a.put("/api/loveletters/".concat(n),t.state.data,{headers:{Authorization:"Bearer ".concat(b.getToken())}});case 6:t.props.history.push("/profile"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),t.setState(e.t0.response.data.errors);case 12:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(a){return e.apply(this,arguments)}}(),t.handleDelete=Object(y.a)(N.a.mark((function e(){var a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.props.match.params.id,e.prev=1,e.next=4,k.a.delete("/api/loveletters/".concat(a),{headers:{Authorization:"Bearer ".concat(b.getToken())}});case 4:t.props.history.push("/"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[1,7]])}))),t}return Object(h.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(y.a)(N.a.mark((function e(){var a,t;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.props.match.params.id,e.prev=1,e.next=4,k.a.get("/api/loveletters/".concat(a),{headers:{Authorization:"Bearer ".concat(b.getToken())}});case 4:t=e.sent,this.setState({data:t.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("something is wrong",e.t0);case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.data.name?r.a.createElement(R,{data:this.state.data,handleChange:this.handleChange,handleSubmit:this.handleSubmit,handleDelete:this.handleDelete,handleMultiChange:this.handleMultiChange,options:this.options,errors:this.state.errors}):null}}]),a}(r.a.Component);var H=function(){return r.a.createElement(c.a,null,r.a.createElement(g,null),r.a.createElement(o.d,null,r.a.createElement(o.b,{exact:!0,path:"/",component:v}),r.a.createElement(D,{path:"/loveletters/:id",component:U}),r.a.createElement(D,{path:"/penpals/:id/edit",component:T}),r.a.createElement(D,{path:"/penpals/:id/review",component:M.a}),r.a.createElement(D,{path:"/loveletters/:id",component:q}),r.a.createElement(D,{path:"/loveletters/new",component:J}),r.a.createElement(o.b,{path:"/loveletters",component:F}),r.a.createElement(o.b,{path:"/register",component:C}),r.a.createElement(o.b,{path:"/login",component:x}),r.a.createElement(D,{path:"/profile",component:L}),r.a.createElement(o.b,{path:"/*",component:A})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[40,1,2]]]);
//# sourceMappingURL=main.108cebaa.chunk.js.map